function timeline(p,n){function y(a){a.forEach(a=>{var c=a.querySelector(".timeline__content"),b=document.createElement("div");b.classList.add("timeline__content__wrap");c.parentNode.insertBefore(b,c);b.appendChild(c);a=a.querySelector(".timeline__content__wrap");c=document.createElement("div");c.classList.add("timeline__item__inner");a.parentNode.insertBefore(c,a);c.appendChild(a)})}function r(a,b){a=a.getBoundingClientRect();const c=window.innerHeight||document.documentElement.clientHeight,g=k.verticalTrigger.defaultValue.match(/(\d*\.?\d*)(.*)/);
let h=b.unit;b=b.value;let f=c;"px"===h&&b>=c&&(console.warn('The value entered for the setting "verticalTrigger" is larger than the window height. The default value will be used instead.'),[,b,h]=g);"px"===h?f=parseInt(f-b,10):"%"===h&&(f=parseInt((100-b)/100*f,10));return a.top<=f&&a.left<=(window.innerWidth||document.documentElement.clientWidth)&&0<=a.top+a.height&&0<=a.left+a.width}function q(a,b){a.style.webkitTransform=b;a.style.msTransform=b;a.style.transform=b}function z(a){var b=a.id?`#${a.id}`:
`.${a.className}`;const c=a.dataset;let g,h,f;const d={};try{if(g=a.querySelector(".timeline__wrap"))if(h=g.querySelector(".timeline__items"))f=[].slice.call(h.children,0);else throw Error("Timeline: .timeline__items could not be found as a direct descendant of .timeline__wrap");else throw Error(`${"Timeline:"} .timeline__wrap ${"could not be found as a direct descendant of"} ${b}`);}catch(A){return console.warn(A.message),!1}Object.keys(k).forEach(a=>{d[a]=k[a].defaultValue;c[a]?d[a]=c[a]:n&&n[a]&&
(d[a]=n[a]);if("integer"===k[a].type){var b;(b=!d[a])||(b=d[a],"number"!==typeof b&&0!==b%1?(console.warn(`${"Timeline:"} The value "${b}" entered for the setting "${a}" is not an integer.`),b=!1):b=!0,b=!b);b&&(d[a]=k[a].defaultValue)}else"string"===k[a].type&&k[a].acceptedValues&&-1===k[a].acceptedValues.indexOf(d[a])&&(console.warn(`${"Timeline:"} The value "${d[a]}" entered for the setting "${a}" was not recognised.`),d[a]=k[a].defaultValue)});b=k.verticalTrigger.defaultValue.match(/(\d*\.?\d*)(.*)/);
var e=d.verticalTrigger.match(/(\d*\.?\d*)(.*)/);let [,l,m]=e;e=!0;l||(console.warn("Timeline: No numercial value entered for the 'verticalTrigger' setting."),e=!1);"px"!==m&&"%"!==m&&(console.warn("Timeline: The setting 'verticalTrigger' must be a percentage or pixel value."),e=!1);"%"===m&&(100<l||0>l)?(console.warn("Timeline: The 'verticalTrigger' setting value must be between 0 and 100 if using a percentage value."),e=!1):"px"===m&&0>l&&(console.warn("Timeline: The 'verticalTrigger' setting value must be above 0 if using a pixel value."),
e=!1);!1===e&&([,l,m]=b);d.verticalTrigger={unit:m,value:l};d.moveItems>d.visibleItems&&(console.warn(`${"Timeline:"} The value of "moveItems" (${d.moveItems}) is larger than the number of "visibleItems" (${d.visibleItems}). The value of "visibleItems" has been used instead.`),d.moveItems=d.visibleItems);d.startIndex>f.length-d.visibleItems&&f.length>d.visibleItems?(console.warn(`${"Timeline:"} The 'startIndex' setting must be between 0 and ${f.length-d.visibleItems} for this timeline. The value of ${f.length-
d.visibleItems} has been used instead.`),d.startIndex=f.length-d.visibleItems):f.length<=d.visibleItems?(console.warn("Timeline: The number of items in the timeline must exceed the number of visible items to use the 'startIndex' option."),d.startIndex=0):0>d.startIndex&&(console.warn(`${"Timeline:"} The 'startIndex' setting must be between 0 and ${f.length-d.visibleItems} for this timeline. The value of 0 has been used instead.`),d.startIndex=0);t.push({timelineEl:a,wrap:g,scroller:h,items:f,settings:d})}
function B(a){function b(){a.itemWidth=a.wrap.offsetWidth/a.settings.visibleItems;a.items.forEach(b=>{b.style.width=`${a.itemWidth}px`});a.scrollerWidth=a.itemWidth*a.items.length;a.scroller.style.width=`${a.scrollerWidth}px`}function c(){let b=0,c=0;a.items.forEach((a,e)=>{a.style.height="auto";a=a.offsetHeight;0===e%2?c=a>c?a:c:b=a>b?a:b});const e=`translateY(${c}px)`;a.items.forEach((d,f)=>{0===f%2?(d.style.height=`${c}px`,"bottom"===a.settings.horizontalStartPosition?(d.classList.add("timeline__item--bottom"),
q(d,e)):d.classList.add("timeline__item--top")):(d.style.height=`${b}px`,"bottom"!==a.settings.horizontalStartPosition?(d.classList.add("timeline__item--bottom"),q(d,e)):d.classList.add("timeline__item--top"))});a.scroller.style.height=`${c+b}px`}window.innerWidth>a.settings.forceVerticalMode&&(b(),c())}function u(a){q(a.scroller,`translate3d(-${a.items[e].offsetLeft}px, 0, 0)`)}function C(a){const b=a.timelineEl.querySelectorAll(".timeline-nav-button"),c=a.timelineEl.querySelector(".timeline-nav-button--prev"),
g=a.timelineEl.querySelector(".timeline-nav-button--next"),h=a.items.length-a.settings.visibleItems,f=parseInt(a.settings.moveItems,10);[].forEach.call(b,b=>{b.addEventListener("click",function(b){b.preventDefault();e=this.classList.contains("timeline-nav-button--next")?e+=f:e-=f;0===e||0>e?(e=0,c.disabled=!0,g.disabled=!1):e===h||e>h?(e=h,c.disabled=!1,g.disabled=!0):(c.disabled=!1,g.disabled=!1);u(a)})})}function D(a){e=a.settings.rtlMode?a.items.length>a.settings.visibleItems?a.items.length-a.settings.visibleItems:
0:a.settings.startIndex;a.timelineEl.classList.add("timeline--horizontal");B(a);u(a);if(a.items.length>a.settings.visibleItems){var b=document.createElement("button"),c=document.createElement("button");const g=a.items[0].offsetHeight;b.className="timeline-nav-button timeline-nav-button--prev";c.className="timeline-nav-button timeline-nav-button--next";b.textContent="Previous";c.textContent="Next";b.style.top=`${g}px`;c.style.top=`${g}px`;0===e?b.disabled=!0:e===a.items.length-a.settings.visibleItems&&
(c.disabled=!0);a.timelineEl.appendChild(b);a.timelineEl.appendChild(c)}(b=a.timelineEl.querySelector(".timeline-divider"))&&a.timelineEl.removeChild(b);b=a.items[0].offsetHeight;c=document.createElement("span");c.className="timeline-divider";c.style.top=`${b}px`;a.timelineEl.appendChild(c);C(a)}function E(a){let b=0;a.items.forEach((c,e)=>{c.classList.remove("animated","fadeIn");!r(c,a.settings.verticalTrigger)&&0<e?c.classList.add("animated"):b=e;e%2===("left"===a.settings.verticalStartPosition?
1:0)&&window.innerWidth>a.settings.forceVerticalMode?c.classList.add("timeline__item--right"):c.classList.add("timeline__item--left")});for(let c=0;c<b;c+=1)a.items[c].classList.remove("animated","fadeIn");window.addEventListener("scroll",()=>{a.items.forEach(b=>{r(b,a.settings.verticalTrigger)&&b.classList.add("fadeIn")})})}function F(a){a.timelineEl.classList.remove("timeline--horizontal","timeline--mobile");a.scroller.removeAttribute("style");a.items.forEach(a=>{a.removeAttribute("style");a.classList.remove("animated",
"fadeIn","timeline__item--left","timeline__item--right")});a=a.timelineEl.querySelectorAll(".timeline-nav-button");[].forEach.call(a,a=>{a.parentNode.removeChild(a)})}function v(){t.forEach(a=>{a.timelineEl.style.opacity=0;a.timelineEl.classList.contains("timeline--loaded")||y(a.items);F(a);window.innerWidth<=a.settings.forceVerticalMode&&a.timelineEl.classList.add("timeline--mobile");"horizontal"===a.settings.mode&&window.innerWidth>a.settings.forceVerticalMode?D(a):E(a);a.timelineEl.classList.add("timeline--loaded");
setTimeout(()=>{a.timelineEl.style.opacity=1},500)})}const t=[];let w=window.innerWidth,x,e=0;const k={forceVerticalMode:{type:"integer",defaultValue:600},horizontalStartPosition:{type:"string",acceptedValues:["bottom","top"],defaultValue:"top"},mode:{type:"string",acceptedValues:["horizontal","vertical"],defaultValue:"vertical"},moveItems:{type:"integer",defaultValue:1},rtlMode:{type:"boolean",acceptedValues:[!0,!1],defaultValue:!1},startIndex:{type:"integer",defaultValue:0},verticalStartPosition:{type:"string",
acceptedValues:["left","right"],defaultValue:"left"},verticalTrigger:{type:"string",defaultValue:"15%"},visibleItems:{type:"integer",defaultValue:3}};p.length&&[].forEach.call(p,z);v();window.addEventListener("resize",()=>{clearTimeout(x);x=setTimeout(()=>{const a=window.innerWidth;a!==w&&(v(),w=a)},250)})}window.jQuery&&(p=>{p.fn.timeline=function(n){timeline(this,n);return this}})(window.jQuery);